<%- include('../templates/head') %>
<body>
	<%- include('../templates/header') %>
	<div class="content case cqzdr">
        <%- include('../templates/zddx-zdsj-left') %>
		<div class="zddx-right zddx-group">
            <div class="zddx-right-box">
				<div class="breadCrumb">
					<a href="#">重点事件</a>/
					<a href="#">分组管理</a>
				</div>
				<div class="control-nav">
					<div class="con-top">
						<p class="name">分组管理</p>
						<div class="co-searchBox">
							<input class="int" type="text" placeholder="请输入"/>
							<a class="aBtn" href="#">搜索</a>
						</div>
					</div>
				</div>
	            <div class="zddx-group-cont teamManage-cont rollHeight4">
					<div class="group-tab">
						<table id="tables">
							<thead>
								<tr>
									<td width="20"></td>
									<td width="60">序号</td>
									<td>分组名称</td>
									<td>分组描述</td>
									<td>创建时间</td>
									<td>操作</td>
								</tr>
							</thead>
							<tbody>
								<% for(i = 1; i < 15; i ++){ %>
								<tr>
									<td><input type="checkbox" /></td>
									<td><%= i %></td>
									<td>涉稳</td>
									<td>重庆事业关注人物事件</td>
									<td>2016-09-21  08:50:08</td>
									<td>
										<div class="icon-wrap">
											<a href="#" title="编辑" data-toggle="modal" data-target="#editTeam"><i class="fa fa-pencil icon-pencil" aria-hidden="true"></i></a>
											<a class="u-q3" href="#" title="查看" data-toggle="modal" data-target="#teamDetail"></a>
											<a class="u-q2" href="javascript:;" title="删除" data-toggle="modal" data-target="#myModal3"></a>
										</div>
									</td>
								</tr>
								<% } %>
							</tbody>
						</table>
						<div class="addTeam">
							<a href="#" class="addTeam-btn" data-toggle="modal" data-target="#addTeam"><i class="add">+</i>添加分组</a>
						</div>
						<div class="zt-ft clearfix">
							<div class="pull-left">
								<div class="icheckbox_flat-blue" style="position: relative;"><input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>
								<a href="##" class="btn" data-toggle="modal" data-target="#export"><i class="fa fa-upload"></i> 导出</a>
							</div>

							<div class="pull-right" style="padding-right: 5px">
								<div class="pagging"></div>
							</div>
						</div>
						</div>
					</div>	
	            </div>
			</div>
		</div>
	</div>

	<!-- 导出报告 -->
	<div class="modal fade" id="export">
		<div class="modal-dialog" role="document" style="width:500px;">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="myModalLabel">导出报告</h4>
				</div>
				<div class="modal-body">
					<table class="tc-table">
						<tr>
							<th>导出方式：</th>
							<td class="table-label">
								<label><input type="radio" name="dcgs2" /> 自定义</label>
								<label><input type="radio"  name="dcgs2"/> 已勾选</label>
								<label><input type="radio"  name="dcgs2"/> 全部</label>
							</td>
						</tr>
						<tr>
							<th>信源范围：</th>
							<td class="table-label">
								<label><input type="radio" name="dcgs3" /> 当前信源</label>
								<label><input type="radio"  name="dcgs3"/> 所有信源</label>
							</td>
						</tr>
						<tr>
							<th>信源范围：</th>
							<td class="table-label">
								<label><input type="radio" name="dcgs4" /> WORD</label>

							</td>
						</tr>
					</table>
				</div>
				<div class="modal-footer inline-button" style="padding-right: 15px;">
					<a class="active" data-dismiss="modal" aria-label="Close">取消</a>
					<a class="active">确定</a>
				</div>
			</div>
		</div>
	</div>
	<!-- 添加分组 -->
	<div class="modal fade addModal" id="addTeam">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="myModalLabel">添加分组</h4>
				</div>
				<div class="modal-body">
					<ul class="addUl">
						<li>
							<span class="sp"><i class="redStar">*</i>分组名称：</span>
							<input class="int" placeholder="请输入类型名称，字数不超过15字"/>
						</li>
						<li>
							<span class="sp"><i class="redStar">*</i>分组描述：</span>
							<textarea class="tArea" placeholder="请输入类型描述，字数不超过500字"></textarea>
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button id="btn" type="button" class="btn" data-dismiss="modal" aria-label="Close">取消</button>
					<button id="btn" type="button" class="btn yes">确定</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 编辑分组 -->
	<div class="modal fade addModal" id="editTeam">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="myModalLabel">编辑分组</h4>
				</div>
				<div class="modal-body">
					<ul class="addUl">
						<li>
							<span class="sp"><i class="redStar">*</i>分组名称：</span>
							<input class="int" value="总队重点阵地"/>
						</li>
						<li>
							<span class="sp"><i class="redStar">*</i>分组描述：</span>
							<textarea class="tArea">市委总队重点阵地</textarea>
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button id="btn" type="button" class="btn" data-dismiss="modal" aria-label="Close">取消</button>
					<button id="btn" type="button" class="btn yes">确定</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 分组详情 -->
	<div class="modal fade addModal" id="teamDetail">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="myModalLabel">分组详情</h4>
				</div>
				<div class="modal-body">
					<ul class="addUl">
						<li>
							<span class="sp">分组名称：</span>
							<input class="int" value="总队重点阵地"/>
						</li>
						<li>
							<span class="sp">创建时间：</span>
							<input class="int" value="2018-11-11 10:50:00"/>
						</li>
						<li>
							<span class="sp">分组描述：</span>
							<textarea class="tArea">市委总队重点阵地</textarea>
						</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button id="btn" type="button" class="btn" data-dismiss="modal" aria-label="Close">取消</button>
					<button id="btn" type="button" class="btn yes">确定</button>
				</div>
			</div>
		</div>
	</div>
	<!-- 删除 -->
	<div class="modal fade" id="myModal3">
		<div class="modal-dialog" role="document" style="width: 500px;">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
					<h4 class="modal-title" id="myModalLabel">删除</h4>
				</div>
				<div class="modal-body">
					<h3 style="text-align:center;padding: 35px 0;">确定删除该分组？</h3>
				</div>
				<div class="modal-footer">
					<button id="btn" type="button" class="btn" data-dismiss="modal" aria-label="Close">取消</button>
					<button id="btn" type="button" class="btn yes">确定</button>
				</div>
			</div>
		</div>
	</div>


		
<%- include('../templates/foot') %>
<script type="text/javascript">
(function ($) {  
    $.fn.extend({  
        initTable:function (o) {  
            //接受配置参数并设定默认值  
            var it = this,  
                hover = o.hover||false,  
                selected = o.selected||false,  
                rowDrag = o.rowDrag||false;  
                rowMove =rowDrag?true:(o.rowMove||true),  
                tbody = $(it).children("tbody"),  
                tr = $(it).children("tbody").children("tr");  
            //添加事件前先移除对象所有的事件  
            it.undelegate();  
            //tr的鼠标移动效果  
            if (hover) {  
                tbody.delegate("tr", "mouseenter", function () {  
                    $(this).addClass("tr-hover");  
                }).delegate("tr", "mouseleave", function () {  
                    $(this).removeClass("tr-hover");  
                })  
            }  
            //tr的选中效果  
            if (selected) {  
                tbody.delegate("tr","click",function(e){  
                    if(e.target.tagName.toLowerCase()=="td"){  
                        tbody.children(".tr-selected").removeClass('tr-selected');  
                        $(this).addClass('tr-selected');  
                    }  
                })  
            }  
            //表格行的移动效果  
            if(rowMove){  
                var targetEl,mouseDown=false;  
                tbody.delegate("tr", "mousedown", function(e){  
                    //只对td对象触发  
                    if(e.target.tagName.toLowerCase() === "td"){  
                        //按下鼠标时选取行  
                        targetEl = this,mouseDown = true; console.log(this);  
                        $(this).css("cursor","move");  
                        return false;  
                    }  
                }).delegate("tr", "mousemove", function(e){  
                      //移动鼠标  
                      if (mouseDown) {  
                          //释放鼠标键时进行插入  
                          if (targetEl != this) {  
                              if ($(this).index()>$(targetEl).index()){  
                                  $($(this)).after(targetEl);  
                              } else {  
                                  $($(this)).before(targetEl);  
                              }  
                          }  
                      }  
                      return false;  
                }).delegate("tr", "mouseup", function (e) {  
                    $(tr).css("cursor","default");  
                    targetEl = null;  
                })  
                //鼠标离开表格时,释放所有事件  
                it.delegate("tbody", "mouseleave", function (e) {  
                    $(tr).css("cursor","default");  
                    targetEl = null;  
                    mouseDown = false;  
                })  
            }  
        }  
    })  
})(jQuery)  
$("#tables").initTable({  
    hover:true,  
    selected:true,  
    rowMove:true  
})
</script>